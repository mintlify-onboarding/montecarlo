---
title: "AWS Network Recommender"
---

For resources that require network configuration, the CLI can be used to help by analyzing resource and collector configurations and making step-by-step recommendations on how to connect.

To use the Alpha Network Recommender follow these steps - 

1. Follow [this guide](/docs/using-the-cli) to install and configure the CLI (requires >= `0.15.0`).
2. Run the `network-recommender` command. For reference, see help below:

Help

`$ montecarlo discovery network-recommender --help
Usage: montecarlo discovery network-recommender [OPTIONS]

  Alpha network recommender. Attempts to analyze and makes recommendations
  on how to connect a resource with the Data Collector.

Options:
  --resource-identifier TEXT    Identifier for the AWS resource you want to
                                connect the Collector with (e.g. Redshift
                                cluster ID).  [required]

  --resource-type [redshift]    Type of AWS resource.  [required]
  --resource-aws-region TEXT    Override the AWS region where the resource is
                                located. Defaults to the region where the
                                collector is hosted.

  --resource-aws-profile TEXT   Override the AWS profile use by the CLI for
                                the resource. This can be helpful if the
                                resource and collector are in different
                                accounts.

  --collector-aws-profile TEXT  Override the AWS profile use by the CLI for
                                the Collector. This can be helpful if the
                                resource and collector are in different
                                accounts.

  --collector-id UUID           ID for the data collector. To disambiguate
                                accounts with multiple collectors.

  --option-file FILE            Read configuration from FILE.
  --help                        Show this message and exit.
`

### FAQs

**Which resource types are supported?**  
Currently Redshift is supported. Please let us know if you'd like to see any other resources.

**What should I use for the resource identifier?**  
This would be the friendly name or identifier for a resource. 

For instance, you can use the `describe-clusters` command to list all the friendly names for your redshift clusters -

`aws redshift describe-clusters --query 'Clusters[*].ClusterIdentifier'
`

**Which collector types are supported?**  
All hybrid hosted collectors, except those deployed in existing (customer managed) VPCs.

 **How should I use the recommendations?**   
After reviewing that the recommendations make sense for your usage / account you can follow the step-by-step instructions generated by the utility.

Importantly, this only connects the data collector with the resource from a network perspective. You still need to onboard by either using the CLI or Dashboard.

**What if my resource or collector is not found by the utility?**  
By default the utility will use AWS profile associated with CLI during setup or the default AWS profile for the session.

To override this behavior use the `resource-aws-profile` flag for the resource and `collector-aws-profile` flag for the collector. 

This utility also uses the same AWS region as where the collector is hosted by default. Use the `resource-aws-region` flag to to pick another region.

 **What should I do if the data collector is unable to connect to the resource during onboarding?**  
[This](/docs/aws-networking-troubleshoot-guide-2) guide and the network tests can be helpful to debug any issues.